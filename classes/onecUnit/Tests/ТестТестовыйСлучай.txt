
Перем мТест;
Перем мРезультат;

Процедура Конструктор()
	
КонецПроцедуры // Конструктор

Процедура ПередВыполнением() Экспорт
	мРезультат = СоздатьОбъект("РезультатТеста");
	мТест = СоздатьОбъект("БылВыполнен");
	мТест.Инит("ТестовыйМетод");
КонецПроцедуры // ПередВыполнением

Процедура тестВыполнениеТеста() Экспорт
	мТест.Выполнить(мРезультат);
	я().Проверить.Равно("ПередВыполнением ТестовыйМетод ПослеВыполнения ", мТест.мЛог);	
КонецПроцедуры // тестВыполнениеТеста

Процедура тестРезультатТестПройден() Экспорт
	мТест.Выполнить(мРезультат);
	я().Проверить.Равно("запущено: 1; провалено: 0", мРезультат.Сводка());	
КонецПроцедуры // тестРезультатТестПройден

Процедура тестРезультатТестПровален() Экспорт
	мТест.Инит("СломанныйТест");
	мТест.Выполнить(мРезультат);
	я().Проверить.Равно("запущено: 1; провалено: 1", мРезультат.Сводка());
КонецПроцедуры // тестРезультатТестПровален

Процедура тестНаборТестов() Экспорт
	ФабрикаТестов = СоздатьОбъект("ФабрикаТестов");
	НаборТестов = СоздатьОбъект("НаборТестов");
	НаборТестов.Добавить(ФабрикаТестов.СоздатьТест("БылВыполнен", "ТестовыйМетод"));
	НаборТестов.Добавить(ФабрикаТестов.СоздатьТест("БылВыполнен", "СломанныйТест"));
	НаборТестов.Выполнить(мРезультат);	
	я().Проверить.Равно("запущено: 2; провалено: 1", мРезультат.Сводка());
КонецПроцедуры // тестНаборТестов

Процедура тестПослеВыполненияВызываетсяВСлучаеПровала() Экспорт
	мТест.Инит("СломанныйТест");
	мТест.Выполнить(мРезультат);
	я().Проверить.Равно(1, мТест.мПослеВыполненияВызван);		
КонецПроцедуры // тестПослеВыполненияВызываетсяВСлучаеПровала
